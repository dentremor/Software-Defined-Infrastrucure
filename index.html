<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Software Defined Infrastructure</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="software-defined-infrastructure">Software Defined Infrastructure</h1>
<h2 id="dns">1. DNS</h2>
<h3 id="queriyng-dns-data">1.1 Queriyng DNS data</h3>
<p>Due to the absence of <code>dig</code>, this was installed with the following command</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>$ <span class="ex">apt</span> install dnsutils</span></code></pre></div>
<h4 id="queriyng-www.hdm-stuttgart.de">1.1.1 Queriyng www.hdm-stuttgart.de</h4>
<p>MX:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +nocmd hdm-stuttgart.de mx +noall +answer:</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 2752    IN  MX  10 mx2.hdm-stuttgart.de.</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 2752    IN  MX  10 mx4.hdm-stuttgart.de.</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 2752    IN  MX  10 mx3.hdm-stuttgart.de.</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 2752    IN  MX  10 mx1.hdm-stuttgart.de.</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +noall +answer 10 mx2.hdm-stuttgart.de.:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>  <span class="ex">mx2.hdm-stuttgart.de.</span> 3197    IN  A   141.62.1.23</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +nocmd +noall +answer -x 141.62.1.23:</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>  <span class="ex">23.1.62.141.in-addr.arpa.</span> 3142    IN  PTR mx2.hdm-stuttgart.de.</span></code></pre></div>
<p>NS:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +nocmd hdm-stuttgart.de ns +noall +answer:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 3590    IN  NS  iz-net-4.hdm-stuttgart.de.</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 3590    IN  NS  iz-net-3.hdm-stuttgart.de</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 3590    IN  NS  dns1.belwue.de.</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 3590    IN  NS  iz-net-2.hdm-stuttgart.de.</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>  <span class="ex">hdm-stuttgart.de.</span> 3590    IN  NS  dns3.belwue.de.</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +noall +answer dns1.belwue.de.:</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>  <span class="ex">dns1.belwue.de.</span>       86400   IN  A   129.143.2.10</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +nocmd +noall +answer -x 129.143.2.10:</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a>  <span class="ex">10.2.143.129.in-addr.arpa.</span> 86400 IN   PTR dns1.belwue.de.</span></code></pre></div>
<h3 id="queriyng-www.spotify.com">1.1.2 Queriyng www.spotify.com</h3>
<p>CNAME:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +noall +answer www.spotify.com:</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>  <span class="ex">www.spotify.com.</span>  230 IN  CNAME   edge-web-split-geo.dual-gslb.spotify.com.</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a>  <span class="ex">edge-web-split-geo.dual-gslb.spotify.com.</span> 80 IN   A 35.186.224.25</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +noall +answer -x 35.186.224.25:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>  <span class="ex">25.224.186.35.in-addr.arpa.</span> 120   IN  PTR 25.224.186.35.bc.googleusercontent.com.</span></code></pre></div>
<h3 id="installing-bind">1.2 Installing Bind</h3>
<p>Über folgenden Command wurde Bind9 inklusive den Utils installiert: <code>bash   apt install bind9 bind9utils</code></p>
<p>In <code>/etc/bind/</code> we need to adjust the <code>named.conf.options</code>, for that we need the IP-adress of our domain <code>sdi3a.mi.hdm-stuttgart.de</code> we want to forward. For that we used the following command <code>bash   $ dig +nocmd sdi3a.mi.hdm-stuttgart.de +noall +answer:     sdi3a.mi.hdm-stuttgart.de. 86400 IN A   141.62.75.103</code> Now we can enter the ip-adress in the already mentioned file.</p>
<h4 id="create-zones">1.2.1 Create zones</h4>
<p>To create the foward zone we need to adjust the file <code>named.conf.local</code> which should look like following:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="ex">//</span> Do any local configuration here</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a><span class="ex">//</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a><span class="ex">zone</span> <span class="st">&quot;forward&quot;</span> {</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a>  <span class="bu">type</span> master<span class="kw">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true"></a>  <span class="fu">file</span> <span class="st">&quot;/etc/bind/zones/db.forward&quot;</span><span class="kw">;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true"></a>  };</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true"></a><span class="ex">zone</span> <span class="st">&quot;103.75.62.141.in-addr.arpa&quot;</span> {</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true"></a>  <span class="bu">type</span> master<span class="kw">;</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true"></a>  <span class="fu">file</span> <span class="st">&quot;/etc/bind/zones/db.rev-local&quot;</span><span class="kw">;</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true"></a>  };</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true"></a><span class="ex">//</span> Consider adding the 1918 zones here, if they are not used in your</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true"></a><span class="ex">//</span> organization</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true"></a><span class="ex">//include</span> <span class="st">&quot;/etc/bind/zones.rfc1918&quot;</span><span class="kw">;</span></span></code></pre></div>
<h4 id="create-cache-directory">1.2.2 Create cache directory</h4>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>$ <span class="fu">mkdir</span> -p /var/cache/bind</span></code></pre></div>
<h4 id="configure-the-created-zones">1.2.3 Configure the created zones</h4>
<p>In the first step we need to change our directory to <code>bash    $ cd /etc/bind   $ mkdir zones</code> ##### 1.2.3.1 Configure forward zone We start to configure our forward lookup zone <code>zones/db.forward</code> with</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>$ <span class="ex">vim</span> db.forward</span></code></pre></div>
<p>To get the host record we need to <code>dig</code> sdi4a.mi.hdm-stuttgart.de.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +noall +answer sdi4a.mi.hdm-stuttgart.de.:</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a>  <span class="ex">sdi4a.mi.hdm-stuttgart.de.</span> 86400 IN   A   141.62.75.104</span></code></pre></div>
<p>With this information we can adjust our file <code>zones/db.forward</code> which looks like the following</p>
<pre><code>;; db.forward
;; Forward lookup zone

$TTL 604800 
$ORIGIN mi.hdm-stuttgart.de.
@                    IN            SOA            ns4.mi.hdm-stuttgart.de. mail.mi.hdm-stuttgart.de. (

                                                         01

                                                         9H

                                                         3H

                                                         4W

                                                         3H) 

@                                IN            NS                  ns4.mi.hdm-stuttgart.de.

ns4                              IN            A                   141.62.75.104

www4-1                           IN            CNAME               ns4

www4-2                           IN            CNAME               ns4</code></pre>
<h5 id="configure-reverse-zone">1.2.3.2 Configure reverse zone</h5>
<p>With the information we became above from the dig command, we can configure our reverse zone:</p>
<pre><code>;; db.rev-local
;; reverse lookup zone

$TTL 604800

@                    IN            SOA            ns4.mi.hdm-stuttgart.de. mail.mi.hdm-stuttgart.de. (

                                                         01     ;&lt;serial-number&gt; 

                                                         9H     ;&lt;time-to-refresh&gt;

                                                         3H     ;&lt;time-to-retry&gt;

                                                         4W     ;&lt;serial-to-expire&gt;

                                                         3H )   ;&lt;minimum-TTL&gt;

@                              IN            NS            ns4.mi.hdm-stuttgart.de.

ns4.mi.hdm-stuttgart.de.       IN            A             141.62.75.104
</code></pre>
<h5 id="forwarders">1.2.4 Forwarders</h5>
<p>To add forward entry for <code>www.w3.org</code> we need the IP-adress which this domain is refering to:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +nocmd www.w3.org +noall +answer</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>  <span class="ex">www.w3.org.</span>       247 IN  A   128.30.52.100</span></code></pre></div>
<p>Now we can add the forwarder in the file <code>/etc/bind/named.conf.options</code>:</p>
<pre><code>forwarders {
    141.62.75.103;
  128.30.52.100;
};</code></pre>
<h5 id="set-mail-exchange-record">1.2.5 Set mail exchange record</h5>
<p>For this we need to set another record in our forward zone <code>etc/bind/zones/db.forward</code>:</p>
<pre><code>mi.hdm-stuttgart.de.             IN            MX          10      ns4.mi.hdm-stuttgart.de.</code></pre>
<p>Test the record via <code>dig</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>$ <span class="ex">dig</span> +noall +answer mx1.hdm-stuttgart.de.:</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a>  <span class="ex">mx1.hdm-stuttgart.de.</span> 2714    IN  A   141.62.1.22</span></code></pre></div>
<h2 id="bibliography">Bibliography</h2>
<h2 id="ldap">2. LDAP</h2>
<h3 id="recommended-preparations">2.1 Recommended Preparations</h3>
<h4 id="what-is-the-ldap-protocol-what-is-the-difference-between-the-two-protocols-ldap-and-ldaps">What is the LDAP Protocol? What is the difference between the two protocols ldap and ldaps?</h4>
<pre><code>&quot;The Lightweight Directory Access Protocol can be used for queriyng and modifying information from distributed directory services.&quot; 

The difference between these two protocols are the encrytpion, LDAPS is encrypted via SSL and running on the default port 636, LDAP is encrypted via STARTTLS or decrypted and running on default port 389.
(&quot;Editorial - LDAP&quot;, 2021)</code></pre>
<h4 id="what-does-the-acronym-dc-in-dcsomedomain-dcorg-stand-for">What does the acronym dc in dc=somedomain, dc=org stand for?</h4>
<pre><code>It stands for domain component and represents the namespaces of an object (Willeke, 2019).</code></pre>
<h4 id="what-is-the-role-of-ldap-objectclass-definitions-how-do-they-relate-to-ldap-schema-definitions">What is the role of LDAP objectclass definitions? How do they relate to LDAP schema definitions?</h4>
<pre><code>The ObjectClass is a LDAP Schema element AttributeType (Willeke, 2019).</code></pre>
<h4 id="describe-the-relationship-between-ldap-entries-and-objectclass-values.">Describe the relationship between LDAP entries and objectClass values.</h4>
<pre><code>Each LDAP Entry in the Directory Information Tree has an ObjectClass attribute. The Values of this attribute can be modified but not removed (Willeke, 2019).</code></pre>
<h4 id="is-it-possible-to-dynamically-change-an-entries-structure">Is it possible to dynamically change an entries structure?</h4>
<pre><code>No, the structure must conforms the constraint defined by the LDAP Schema (Willeke, 2019).</code></pre>
<h4 id="what-does-the-term-bind-to-an-ldap-server-mean-what-is-an-anonymous-bind">What does the term “bind to an LDAP” server mean? What is an “anonymous” bind?</h4>
<pre><code>Bind is used to authenticate clients to the directory server.

There are three elements inlude in the request:
1. LDAP protocol version
2. Distinguished Name (DN)
3. Credentials for user authentication

At an anonymous bind the above points 2. and 3. are submitted as an empty string.

(Wilson, -)</code></pre>
<h4 id="do-ldap-servers-in-general-support-database-features-like-transactions-acid-semantic-etc.">Do LDAP servers in general support database features like transactions, ACID semantic etc.?</h4>
<pre><code>&quot;Lightweight Directory Access Protocol (LDAP) Transactions is define din RFC 5805 and is defined as &quot;Experimental&quot;.

As with distinct update operations, each transaction has atomic, consistency, isolation, and durability properties ACID.&quot;
(Willeke, 2017)</code></pre>
<h4 id="explain-the-term-replication-in-an-ldap-server-context.">Explain the term “replication” in an LDAP server context.</h4>
<pre><code>For distribution reasons the LDAP-database can be distributed to several servers. There exists one master, on which write-operations are allowed, at the others can only pull the changes from the master (Anonym, 2019).</code></pre>
<h4 id="why-do-organizations-sometimes-prefer-ldap-data-repositories-rather-than-using-relational-database-systems">Why do organizations sometimes prefer LDAP data repositories rather than using relational database systems?</h4>
<pre><code>LDAP is very suitable in cases of high read rates and low write rates (write-once-read-many-times). 
Furthermore relational databases like SQL requieres a detailed knowledge about the data structure, which isnt the case when it comes to LDAP.
(ZyTrax, 2019)</code></pre>
<h4 id="how-is-the-ldif-format-being-organized-explain-the-practical-use-of-ldif-data-when-running-a-ldap-service.">How is the LDIF format being organized? Explain the practical use of LDIF data when running a LDAP service.</h4>
<pre><code>The format is organized with abjects and attributes. The LDIF datas describes the directory structure which is needed for exchange 
(&quot;Editorial - LDIF&quot;, 2021)</code></pre>
<h4 id="ldap-filters">LDAP filters</h4>
<h5 id="how-do-ldap-filters-work">How do LDAP filters work?</h5>
<pre><code>There are several filters in LDAP, with these filters its possible to add criterias to an object search.
(Föckeler, -)</code></pre>
<h5 id="what-is-the-meaning-of-the-term-scope">What is the meaning of the term scope?</h5>
<pre><code>The LDAP search scope indicates the set of entries at or below the BaseDN that may be considered potential matches for a SearchRequest (Willeke, 2019).</code></pre>
<h5 id="how-do-predicate-based-filters-connected-by-logical-andornot-look-like">How do predicate based filters connected by logical and/or/not look like?</h5>
<pre><code>And:  (&amp; (...K1...) (...K2...) (...K3...) (...K4...))
Or:   (| (...K1...) (...K2...) (...K3...) (...K4...)) 
Not:  (! (...K1...) (...K2...) (...K3...) (...K4...))</code></pre>
<h4 id="openldap-server-software-specific-questions">OpenLDAP server software specific questions</h4>
<h5 id="what-does-the-term-database-backend-refer-to-with-respect-to-openldap-server-implementation">What does the term “database backend” refer to with respect to OpenLDAP server implementation?</h5>
<pre><code>Backends do the actual work of storing or retrieving data in response to LDAP requests. Backends may be compiled statically into slapd, or when module support is enabled, they may be dynamically loaded (Open LDAP Foundation, 2021). </code></pre>
<h5 id="why-is-ldap-replication-important">Why is LDAP replication important?</h5>
<pre><code>The risk of a failure will be minimized and the traffic load will be reduced.</code></pre>
<h5 id="how-do-you-restrict-access-to-ldap-directories">How do you restrict access to LDAP directories?</h5>
<!-- TODO finish questions. -->
<h2 id="bibliography-1">Bibliography</h2>
<p>Willeke, J. (various dates). LDAP Wiki 3. May 2021, from https://ldapwiki.com/wiki</p>
<p>Editorial - LDAP. (2021, April 19). In Wikipedia. https://de.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol</p>
<p>Editorial - LDIF. (2021, April 19). In Wikipedia. https://de.wikipedia.org/wiki/LDAP_Data_Interchange_Format</p>
<p>Bosswell, W. (2003, October 10). ObjectClasses queried 3. May 2021, from https://www.informit.com/articles/article.aspx?p=101405&amp;seqNum=7#:~:text=Domain%20Component%20(DC).,%3DCompany%2Cdc%3Dcom.</p>
<p>Wilson, N. (No datum availabel). The LDAP Bind Operation queried 3. May 2021, from https://ldap.com/the-ldap-bind-operation/</p>
<p>Anonym (2019, September 3). LDAP Wiki 3. May 2021, from https://ldapwiki.com/wiki</p>
<p>ZyTrax Inc. (2019, February 19). LDAP Concepts &amp; Overview 7. May 2021, from http://www.zytrax.com/books/ldap/ch2/</p>
<p>Föckeler, P. (No datum availabel). Das LDAP Scripting Tutorial queried 10. May 2021, from http://www.selfadsi.de/ldap-filter.htm</p>
<p>Open LDAP Foundation. (2021, February 26). OpenLDAP queried 10. May 2021, from https://www.openldap.org/doc/admin25/</p>
<h3 id="exercises">2.2 Exercises</h3>
<h4 id="browse-an-existing-ldap-server">2.2.1 Browse an existing LDAP Server</h4>
<h5 id="no-authentication-vs.-authentication">2.2.1.1 No Authentication vs. Authentication?</h5>
<p>When you are authenticated on the LDPA-server, you can see all datas which belongs to your user. When you are not authenticated you can also see all datas with the exception of the <code>matrikelNr</code>.</p>
<h4 id="set-up-an-openldap-server">2.2.2 Set up an OpenLdap server</h4>
<p>First we need to install several packages on our server:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a>$ <span class="ex">apt</span> install slapd ldap-utils dialog</span></code></pre></div>
<p>To reconfigure <code>slapd</code> we need to type <code>$ dpkg-reconfigure slapd</code>.</p>
<h4 id="populating-your-dit">2.2.3 Populating your DIT</h4>
<p>After add all entrys in our tree, it look like the following:</p>
<pre><code>version: 1

dn: dc=betrayer,dc=com
objectClass: dcObject
objectClass: organization
objectClass: top
dc: betrayer
o: betrayer.com

dn: cn=admin,dc=betrayer,dc=com
objectClass: organizationalRole
objectClass: simpleSecurityObject
cn: admin
userPassword:: e1NTSEF9UUpzZm96RVFxVTFadEhGN3VrWE96dDNZRi9hc09LaXY=
description: LDAP administrator

dn: ou=departments,dc=betrayer,dc=com
objectClass: organizationalUnit
objectClass: top
ou: departments

dn: ou=software,ou=departments,dc=betrayer,dc=com
objectClass: organizationalUnit
objectClass: top
ou: software

dn: ou=financial,ou=departments,dc=betrayer,dc=com
objectClass: organizationalUnit
objectClass: top
ou: financial

dn: ou=devel,ou=software,ou=departments,dc=betrayer,dc=com
objectClass: organizationalUnit
objectClass: top
ou: devel

dn: ou=testing,ou=software,ou=departments,dc=betrayer,dc=com
objectClass: organizationalUnit
objectClass: top
ou: testing

dn: uid=diana,ou=devel,ou=software,ou=departments,dc=betrayer,dc=com
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
objectClass: top
cn: Diana Smith
sn: Smith
uid: diana

dn: uid=daniel,ou=devel,ou=software,ou=departments,dc=betrayer,dc=com
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
objectClass: top
cn: Daniel Bean
sn: Bean
uid: daniel
userPassword:: e1NNRDV9QlRqWVBrL2tuSjkrUGNIRk1SeUhBWXdCOHFLeGVMQ2I=

dn: uid=tina,ou=testing,ou=software,ou=departments,dc=betrayer,dc=com
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
objectClass: top
cn: Tina Bean
sn: Bean
uid: tina

dn: uid=thomas,ou=testing,ou=software,ou=departments,dc=betrayer,dc=com
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
objectClass: top
cn: Thomas Smith
sn: Smith
uid: thomas

dn: uid=frida,ou=financial,ou=departments,dc=betrayer,dc=com
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
objectClass: top
cn: Frida Smith
sn: Smith
uid: frida

dn: uid=frederick,ou=financial,ou=departments,dc=betrayer,dc=com
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
objectClass: top
cn: Frederick Bean
sn: Bean
uid: frederick</code></pre>
<h4 id="testing-a-bind-operation-as-non---admin-user">2.2.4 Testing a bind operation as non - admin user</h4>
<figure>
<img src="images/bind_login.png" title="Screenshot" alt="" /><figcaption>alt text</figcaption>
</figure>
<h4 id="filter-based-search">2.2.5 Filter based search</h4>
<p>All users with a <code>uid</code> attribute value starting with the letter “b”:</p>
<pre><code>(uid=b*)</code></pre>
<p>All entries with either a defined <code>uid</code> attribute or a <code>ou</code> attribute starting with letter “d”:</p>
<pre><code>(|(uid=d*)(ou=d*))</code></pre>
<p>All users entries within the whole DIT having a gidNumber value of 100: <img src="images/gidNumber_equal_100.png" title="Screenshot" alt="alt text" /></p>
<p>All users entries within the whole DIT having a gidNumber value greater then 1023: <img src="images/gidNumber_greater_than_1023.png" title="Screenshot" alt="alt text" /></p>
<p>All users entries within the whole DIT having the substring “ei” in their cn attribute: <img src="images/cn_contains_ei.png" title="Screenshot" alt="alt text" /></p>
<p>All users entries within the whole DIT having starting with the character “t” in their uid attribute or the gidNumber is equal to 100: <img src="images/last.png" title="Screenshot" alt="alt text" /></p>
<h4 id="extending-an-existing-entry">2.2.6 Extending an existing entry</h4>
<p>The entry uid=bean,ou=devel,ou=software,ou=departments,dc=betrayer;dc=com may be extended by the objectclass posixAccount. Construct a LDIF file to add the attributes uidNumber, gidNumber and homeDirectory by a modify/add operation.</p>
<pre><code>uid=bean, ou=devel, ou=software, ou=departments, dc=betrayer, dc=com
changetype: add
objectClass: posixAccount
uidNumber: 42
gidNumber: 1337
homeDirectory: /</code></pre>
<h4 id="accessing-ldap-data-by-a-mail-client">2.2.7 Accessing LDAP data by a mail client</h4>
<figure>
<img src="images/LDAP-Thunderbird.png" title="Screenshot" alt="" /><figcaption>alt text</figcaption>
</figure>
<h4 id="ldap-configuration">2.2.8 LDAP configuration</h4>
<figure>
<img src="images/LDAP-Bind-Authentication.png" title="Screenshot" alt="" /><figcaption>alt text</figcaption>
</figure>
<h4 id="ldap-based-user-login">2.2.9 LDAP based user login</h4>
<h5 id="test-connection-to-active-directory">2.2.9.1 Test connection to active directory</h5>
<pre><code>$ root@sdi3b:~# telnet sdi3a.mi.hdm-stuttgart.de 389</code></pre>
<pre><code>Trying 141.62.75.103...
Connected to sdi3a.mi.hdm-stuttgart.de.
Escape character is &#39;^]&#39;.</code></pre>
<h5 id="install-and-configure-libpam-ldapd">2.2.9.2 Install and configure libpam-ldapd</h5>
<pre><code>$ apt-get install libpam-ldapd</code></pre>
<p>After the installation a window will open, where we can configure the package.</p>
<p>In the following window we need to enter the hostname to our arctive directories. <img src="images/pam1.png" title="Screenshot" alt="alt text" /></p>
<p>After that we need to enter the distinguished name. <img src="images/pam2.png" title="Screenshot" alt="alt text" /></p>
<p>TEXT <img src="images/pam3.png" title="Screenshot" alt="alt text" /></p>
<p>After the configuration the installation of the package will be finished and we need to reboot the VM.</p>
<p>After that we can run request</p>
<pre><code>$ id daniel
uid=42(daniel) gid=1337 Gruppen=1337</code></pre>
<p>In the last step we need to create a user and a group accordingly, which we need to assign to the user:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true"></a>$ <span class="ex">groupadd</span> -g 1337 betrayer_software_devel</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true"></a>$ <span class="ex">useradd</span> -u 42 daniel</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true"></a>$ <span class="ex">usermod</span> -g betrayer_software_devel daniel</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true"></a>$ <span class="ex">mkhomedir_helper</span> daniel</span></code></pre></div>
<h4 id="backup-and-recovery-restore">2.2.10 Backup and recovery / restore</h4>
<p>Create a backup of the OpenLDAP database configuration to an LDIF file.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true"></a>$ <span class="ex">slapcat</span> -b cn=config -l ldap-config.ldif</span></code></pre></div>
<p>Create a backup of the OpenLDAP data.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true"></a>$ <span class="ex">slapcat</span> -l ldap-data.ldif</span></code></pre></div>
<p>Copy the data and configuration backup from the OpenLDAP provider server to the OpenLDAP consumer server.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true"></a>$ <span class="fu">scp</span> <span class="dt">{ldap-data.ldif,ldap-config.ldif}</span> root@sdi3b.mi.hdm-stuttgart.de:</span></code></pre></div>
<p>Now we need to access our consumer server via ssh.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true"></a>$ <span class="fu">ssh</span> root@sdi3b.mi.hdm-stuttgart.de</span></code></pre></div>
<p>Restore the OpenLDAP provider Data and configs on the consumer server. Stop the LDAP service.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true"></a>$ <span class="ex">systemctl</span> stop slapd</span></code></pre></div>
<p>Ensure that the LDAP configuration and data directories are empty.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true"></a>$ <span class="fu">rm</span> -rf /etc/ldap/slapd.d/* </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true"></a>$ <span class="fu">rm</span> -rf /var/lib/ldap/*</span></code></pre></div>
<p>Restore the configuration backup.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true"></a>$ <span class="ex">slapadd</span> -b cn=config -l /root/ldap-config.ldif -F /etc/ldap/slapd.d/</span></code></pre></div>
<p>Restore the LDAP data directories.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true"></a>$ <span class="ex">slapadd</span> -n 1 -l /root/ldap-data.ldif -F /etc/ldap/slapd.d/</span></code></pre></div>
<h4 id="accessing-ldap-by-a-pyhton-application.">2.2.11 Accessing LDAP by a Pyhton application.</h4>
<!-- Is it possible to use Pyhton pretty please -->
<p>https://www.python-ldap.org/en/python-ldap-3.3.0/ https://github.com/python-ldap/python-ldap</p>
<h2 id="apache-web-server">3. Apache Web Server</h2>
<h3 id="exercises-1">3.1 Exercises</h3>
<p>For the following tasks we need the package <code>apache2</code>, which we can install with the following command:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true"></a>$ <span class="ex">aptitude</span> install apache2</span></code></pre></div>
<h3 id="first-steps">3.1.1 First Steps</h3>
<ol type="1">
<li><p>After we install the package apache is running per default and can in our case be queried with <code>http://sdi3a.mi.hdm-stuttgart.de/</code>.</p></li>
<li><p>When we move the index.html file out of the directory we can discover another page, when we query the adress again. Now we can se an empty table and below that we find the version of our Apache Server, the domain where its hosted and the associated port.</p></li>
<li><p>In the next step we povide our own simple webpage which looks like the following:</p></li>
</ol>
<div class="sourceCode" id="cb54"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true"></a>    <span class="kw">&lt;h1&gt;</span>TEST<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<ol start="4" type="1">
<li>In the next step we install the apache2 documentation with the following command:</li>
</ol>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true"></a>$ <span class="ex">apt</span> install apache2-doc</span></code></pre></div>
<p>In our case we can find all related files from the packe <code>apache2-doc</code>: <code>bash    $ dpkg -L apache2-doc</code> The result is a huge list of file which all belongs to the following path: <code>/usr/share/doc/apache2-doc/manual/</code></p>
<ol start="5" type="1">
<li>In the last task we want host our documentation on our web server. But first we need to convert our .md to valid .html, which can be done with the pandoc package:</li>
</ol>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true"></a>$ <span class="ex">pandoc</span> -s -o index.html Software<span class="dt">\ </span>Defined<span class="dt">\ </span>Infrastructure.md</span></code></pre></div>
<p>We want to store the index.html later in <code>home/sdidoc</code> so we need to create this directroy: <code>bash   $ cd /home   $ mkdir sdidoc</code></p>
<p>After that we can transfer our file from the local machine to our hdm vm: <code>bash   $ scp index.html root@sdi3a.mi.hdm-stuttgart.de:/home/sdidoc/</code></p>
<p>Now we need to adjust our config file in <code>/etc/apache2/sites-available/000-default.conf</code> with the following terms:</p>
<pre><code>&lt;Directory /home/sdidoc&gt;
  Options Indexes FollowSymLinks Includes ExecCGI
  AllowOverride All
  Require all granted
  Allow from all
&lt;/Directory&gt;

Alias &quot;/doku&quot; &quot;/home/sdidoc&quot;</code></pre>
<p>To make our change effective we need to restart the apache web service:</p>
<pre><code>$ systemctl reload apache2</code></pre>
</body>
</html>
